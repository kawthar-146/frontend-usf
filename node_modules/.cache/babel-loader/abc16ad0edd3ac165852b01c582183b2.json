{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\frontend-usf\\\\src\\\\components\\\\setting_tabs\\\\DoctorProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport SessionContext from \"../../context/SessionContext\";\nimport student from \"../../images/student.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DoctorProfile(props) {\n  _s();\n\n  const {\n    session: {\n      user: {\n        access_token\n      }\n    }\n  } = useContext(SessionContext);\n  const [doctorPicture, setDoctorPicture] = useState(\"\");\n  const [picture, setPicture] = useState();\n  const id = localStorage.getItem(\"id\");\n\n  async function getPicture() {\n    const result = await axios.get(`http://localhost:8000/api/admins/getPicture/${id}`, {\n      headers: {\n        Authorization: `Bearer ${access_token}`\n      }\n    });\n    setDoctorPicture(result.data.picture);\n  }\n\n  async function onSubmit(e) {\n    e.nativeEvent.preventDefault();\n    const body = new FormData();\n    body.append(\"picture\", picture);\n    addImage(body);\n  }\n\n  const addImage = async body => {\n    try {\n      const result = await axios.post(`http://localhost:8000/api/admins/addPicture/${id}`, body, {\n        headers: {\n          Authorization: `Bearer ${access_token}`,\n          \"Content-Type\": \"application/json\"\n        }\n      });\n    } catch {}\n\n    getPicture();\n  };\n\n  useEffect(() => {\n    getPicture();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: props.toggleState !== 2 ? \"unactive_content\" : \"block\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"student_profile_page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile_pic\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:8000/image/${doctorPicture}`,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile_edit_pic\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Edit Profile Picture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Select a photo to set as profile picture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"select_photo_button\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"file-upload\",\n              class: \"custom-file-upload\",\n              children: \"Select File\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"file-upload\",\n              type: \"file\",\n              name: \"picture\",\n              onChange: e => setPicture(e.target.files[0])\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload_photo_button\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DoctorProfile, \"2FlOLKweWsszcwuuQRbCxE8zpH4=\");\n\n_c = DoctorProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"DoctorProfile\");","map":{"version":3,"sources":["C:/Users/HP/Desktop/frontend-usf/src/components/setting_tabs/DoctorProfile.js"],"names":["React","useContext","useEffect","useState","axios","SessionContext","DoctorProfile","props","session","user","access_token","doctorPicture","setDoctorPicture","picture","setPicture","id","localStorage","getItem","getPicture","result","get","headers","Authorization","data","onSubmit","e","nativeEvent","preventDefault","body","FormData","append","addImage","post","toggleState","target","files"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport SessionContext from \"../../context/SessionContext\";\nimport student from \"../../images/student.svg\";\n\nexport default function DoctorProfile(props) {\n  const {\n    session: {\n      user: { access_token },\n    },\n  } = useContext(SessionContext);\n\n  const [doctorPicture, setDoctorPicture] = useState(\"\");\n  const [picture, setPicture] = useState();\n  const id = localStorage.getItem(\"id\");\n\n  async function getPicture() {\n    const result = await axios.get(\n      `http://localhost:8000/api/admins/getPicture/${id}`,\n      {\n        headers: {\n          Authorization: `Bearer ${access_token}`,\n        },\n      }\n    );\n    setDoctorPicture(result.data.picture);\n  }\n\n  async function onSubmit(e) {\n    e.nativeEvent.preventDefault();\n    const body = new FormData();\n    body.append(\"picture\", picture);\n    addImage(body);\n  }\n\n  const addImage = async (body) => {\n    try {\n      const result = await axios.post(\n        `http://localhost:8000/api/admins/addPicture/${id}`,\n        body,\n        {\n          headers: {\n            Authorization: `Bearer ${access_token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n    } catch {}\n\n    getPicture();\n  };\n\n  useEffect(() => {\n    getPicture();\n  }, []);\n\n  return (\n    <div className={props.toggleState !== 2 ? \"unactive_content\" : \"block\"}>\n      <div className=\"student_profile_page\">\n        <div className=\"profile_pic\">\n          <img src={`http://localhost:8000/image/${doctorPicture}`} alt=\"\" />\n        </div>\n        <form onSubmit={onSubmit}>\n          <div className=\"profile_edit_pic\">\n            <h1>Edit Profile Picture</h1>\n\n            <h3>Select a photo to set as profile picture</h3>\n\n            <div className=\"select_photo_button\">\n              <label for=\"file-upload\" class=\"custom-file-upload\">\n                Select File\n              </label>\n              <input\n                id=\"file-upload\"\n                type=\"file\"\n                name=\"picture\"\n                onChange={(e) => setPicture(e.target.files[0])}\n              />\n            </div>\n            <div className=\"upload_photo_button\">\n              <button type=\"submit\">Upload</button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}